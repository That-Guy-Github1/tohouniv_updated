################################################
# INSTANCES DEFINITOIN                         #
################################################

th_global_setup_danmaku_duels_data = {
	1 = {
		if = {
			limit = { NOT = { has_global_flag = th_setup_danmaku_duels_counter } }
			set_global_flag = th_setup_danmaku_duels_counter
			set_variable = {
				which = th_danmaku_duel_counter
				value = 0
			}
			set_variable = {
				which = th_danmaku_max_duels
				value = 16	#There can be only 15 simultaneous Danmaku Duels at any given point at time
			}
		}
	}
}

th_create_danmaku_duel_instance = {
	if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_1_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 1 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 1 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 1 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_2_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 2 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 2 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 2 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_3_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 3 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 3 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 3 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_4_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 4 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 4 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 4 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_5_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 5 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 5 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 5 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_6_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 6 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 6 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 6 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_7_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 7 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 7 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 7 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_8_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 8 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 8 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 8 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_9_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 9 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 9 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 9 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_10_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 10 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 10 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 10 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_11_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 11 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 11 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 11 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_12_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 12 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 12 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 12 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_13_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 13 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 13 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 13 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_14_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 14 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 14 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 14 }
	}
	else_if = {
		limit = { NOT = { has_province_flag = th_danmaku_duel_instance_15_online } }
		$country_1$ = { th_assign_country_to_danmaku_duel_instance = { instance = 15 country_id = 1 } }
		$country_2$ = { th_assign_country_to_danmaku_duel_instance = { instance = 15 country_id = 2 } }
		th_setup_danmaku_duel_instance = { instance = 15 }
	}
	else = {
		log = "Too many Danmaku Duel instances were called. Could not add $country_1$ and $country_2$ to a duel."
	}
}

th_create_event_target_enemy_duelist = {
	save_event_target_as = root_duelist
	if = {
		limit = { th_is_not_duelling_an_unlanded_character = yes }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 1 } } event_target:th_danmaku_duelist_of_id_1_of_instance_1 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 2 } } event_target:th_danmaku_duelist_of_id_1_of_instance_2 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 3 } } event_target:th_danmaku_duelist_of_id_1_of_instance_3 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 4 } } event_target:th_danmaku_duelist_of_id_1_of_instance_4 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 5 } } event_target:th_danmaku_duelist_of_id_1_of_instance_5 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 6 } } event_target:th_danmaku_duelist_of_id_1_of_instance_6 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 7 } } event_target:th_danmaku_duelist_of_id_1_of_instance_7 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 8 } } event_target:th_danmaku_duelist_of_id_1_of_instance_8 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 9 } } event_target:th_danmaku_duelist_of_id_1_of_instance_9 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 10 } } event_target:th_danmaku_duelist_of_id_1_of_instance_10 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 11 } } event_target:th_danmaku_duelist_of_id_1_of_instance_11 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 12 } } event_target:th_danmaku_duelist_of_id_1_of_instance_12 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 13 } } event_target:th_danmaku_duelist_of_id_1_of_instance_13 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 14 } } event_target:th_danmaku_duelist_of_id_1_of_instance_14 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 15 } } event_target:th_danmaku_duelist_of_id_1_of_instance_15 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 1 } } event_target:th_danmaku_duelist_of_id_2_of_instance_1 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 2 } } event_target:th_danmaku_duelist_of_id_2_of_instance_2 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 3 } } event_target:th_danmaku_duelist_of_id_2_of_instance_3 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 4 } } event_target:th_danmaku_duelist_of_id_2_of_instance_4 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 5 } } event_target:th_danmaku_duelist_of_id_2_of_instance_5 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 6 } } event_target:th_danmaku_duelist_of_id_2_of_instance_6 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 7 } } event_target:th_danmaku_duelist_of_id_2_of_instance_7 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 8 } } event_target:th_danmaku_duelist_of_id_2_of_instance_8 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 9 } } event_target:th_danmaku_duelist_of_id_2_of_instance_9 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 10 } } event_target:th_danmaku_duelist_of_id_2_of_instance_10 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 11 } } event_target:th_danmaku_duelist_of_id_2_of_instance_11 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 12 } } event_target:th_danmaku_duelist_of_id_2_of_instance_12 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 13 } } event_target:th_danmaku_duelist_of_id_2_of_instance_13 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 14 } } event_target:th_danmaku_duelist_of_id_2_of_instance_14 = { save_event_target_as = enemy_duelist } }
		if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 15 } } event_target:th_danmaku_duelist_of_id_2_of_instance_15 = { save_event_target_as = enemy_duelist } }
		if = {
			limit = { NOT = { has_saved_event_target = enemy_duelist } }
			log = "Could not create enemy_duelist event_target. Maybe the enemy country does not exist?"
		}
	}
}

th_change_danmaku_instance_round = {
	if = { limit = { th_get_danmaku_duel_instance = { instance = 1 } } th_change_danmaku_specific_instance_round = { instance = 1 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 2 } } th_change_danmaku_specific_instance_round = { instance = 2 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 3 } } th_change_danmaku_specific_instance_round = { instance = 3 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 4 } } th_change_danmaku_specific_instance_round = { instance = 4 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 5 } } th_change_danmaku_specific_instance_round = { instance = 5 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 6 } } th_change_danmaku_specific_instance_round = { instance = 6 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 7 } } th_change_danmaku_specific_instance_round = { instance = 7 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 8 } } th_change_danmaku_specific_instance_round = { instance = 8 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 9 } } th_change_danmaku_specific_instance_round = { instance = 9 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 10 } } th_change_danmaku_specific_instance_round = { instance = 10 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 11 } } th_change_danmaku_specific_instance_round = { instance = 11 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 12 } } th_change_danmaku_specific_instance_round = { instance = 12 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 13 } } th_change_danmaku_specific_instance_round = { instance = 13 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 14 } } th_change_danmaku_specific_instance_round = { instance = 14 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 15 } } th_change_danmaku_specific_instance_round = { instance = 15 opponent = $opponent$ } }
}

th_danmaku_duel_on_annexed_effect = {
	th_clear_invalid_combat_instance = { instance = 1 }
	th_clear_invalid_combat_instance = { instance = 2 }
	th_clear_invalid_combat_instance = { instance = 3 }
	th_clear_invalid_combat_instance = { instance = 4 }
	th_clear_invalid_combat_instance = { instance = 5 }
	th_clear_invalid_combat_instance = { instance = 6 }
	th_clear_invalid_combat_instance = { instance = 7 }
	th_clear_invalid_combat_instance = { instance = 8 }
	th_clear_invalid_combat_instance = { instance = 9 }
	th_clear_invalid_combat_instance = { instance = 10 }
	th_clear_invalid_combat_instance = { instance = 11 }
	th_clear_invalid_combat_instance = { instance = 12 }
	th_clear_invalid_combat_instance = { instance = 13 }
	th_clear_invalid_combat_instance = { instance = 14 }
	th_clear_invalid_combat_instance = { instance = 15 }
}

th_monthly_danmaku_duel_update = {
	if = {
		limit = { has_global_flag = th_setup_danmaku_duels_counter }
		th_monthly_danmaku_duel_duration_reduction = { instance = 1 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 2 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 3 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 4 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 5 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 6 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 7 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 8 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 9 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 10 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 11 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 12 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 13 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 14 }
		th_monthly_danmaku_duel_duration_reduction = { instance = 15 }
	}
}


################################################
# STATS DEFINITOINS                            #
################################################

th_set_default_danmaku_stats = {
	1 = {
		set_variable = { which = th_danmaku_default_max_health_transfer 					which = th_danmaku_default_max_health }
		set_variable = { which = th_danmaku_default_max_mana_transfer						which = th_danmaku_default_max_mana }
		set_variable = { which = th_danmaku_default_max_action_points_transfer				which = th_danmaku_default_max_action_points }
		set_variable = { which = th_danmaku_default_hpm_transfer							which = th_danmaku_default_hpm }
		set_variable = { which = th_danmaku_default_mpm_transfer							which = th_danmaku_default_mpm }
		set_variable = { which = th_danmaku_default_ini_bonus_transfer						which = th_danmaku_default_ini_bonus }
		set_variable = { which = th_danmaku_default_hit_bonus_transfer						which = th_danmaku_default_hit_bonus }
		set_variable = { which = th_danmaku_default_physical_attack_bonus_transfer			which = th_danmaku_default_physical_attack_bonus }
		set_variable = { which = th_danmaku_default_physical_attack_die_transfer			which = th_danmaku_default_physical_attack_die }
		set_variable = { which = th_danmaku_default_physical_attack_die_num_transfer		which = th_danmaku_default_physical_attack_die_num }
		set_variable = { which = th_danmaku_default_physical_crit_roll_needed_transfer		which = th_danmaku_default_physical_crit_roll_needed }
		set_variable = { which = th_danmaku_default_magical_attack_bonus_transfer			which = th_danmaku_default_magical_attack_bonus }
		set_variable = { which = th_danmaku_default_magical_attack_die_transfer				which = th_danmaku_default_magical_attack_die }
		set_variable = { which = th_danmaku_default_magical_attack_die_num_transfer			which = th_danmaku_default_magical_attack_die_num }
		set_variable = { which = th_danmaku_default_magical_crit_roll_needed_transfer		which = th_danmaku_default_magical_crit_roll_needed }
		set_variable = { which = th_danmaku_default_psionic_attack_bonus_transfer			which = th_danmaku_default_psionic_attack_bonus }
		set_variable = { which = th_danmaku_default_psionic_attack_die_transfer				which = th_danmaku_default_psionic_attack_die }
		set_variable = { which = th_danmaku_default_psionic_attack_die_num_transfer			which = th_danmaku_default_psionic_attack_die_num }
		set_variable = { which = th_danmaku_default_psionic_crit_roll_needed_transfer		which = th_danmaku_default_psionic_crit_roll_needed }
		set_variable = { which = th_danmaku_default_crit_roll_damage_multipler_transfer		which = th_danmaku_default_crit_damage_multiplier }

		set_variable = { which = th_danmaku_default_physical_damage_modifier_transfer		which = th_danmaku_default_physical_damage_modifier }
		set_variable = { which = th_danmaku_default_magical_damage_modifier_transfer		which = th_danmaku_default_magical_damage_modifier }
		set_variable = { which = th_danmaku_default_psionic_damage_modifier_transfer		which = th_danmaku_default_psionic_damage_modifier }
		set_variable = { which = th_danmaku_default_bludgeoning_damage_modifier_transfer	which = th_danmaku_default_bludgeoning_damage_modifier }
		set_variable = { which = th_danmaku_default_piercing_damage_modifier_transfer		which = th_danmaku_default_piercing_damage_modifier }
		set_variable = { which = th_danmaku_default_slashing_damage_modifier_transfer		which = th_danmaku_default_slashing_damage_modifier }
		set_variable = { which = th_danmaku_default_fire_damage_modifier_transfer			which = th_danmaku_default_fire_damage_modifier }
		set_variable = { which = th_danmaku_default_frost_damage_modifier_transfer			which = th_danmaku_default_frost_damage_modifier }
		set_variable = { which = th_danmaku_default_earth_damage_modifier_transfer			which = th_danmaku_default_earth_damage_modifier }
		set_variable = { which = th_danmaku_default_lightning_damage_modifier_transfer		which = th_danmaku_default_lightning_damage_modifier }
		set_variable = { which = th_danmaku_default_nature_damage_modifier_transfer			which = th_danmaku_default_nature_damage_modifier }
		set_variable = { which = th_danmaku_default_holy_damage_modifier_transfer			which = th_danmaku_default_holy_damage_modifier }
		set_variable = { which = th_danmaku_default_shadow_damage_modifier_transfer			which = th_danmaku_default_shadow_damage_modifier }
		set_variable = { which = th_danmaku_default_necrotic_damage_modifier_transfer		which = th_danmaku_default_necrotic_damage_modifier }
		set_variable = { which = th_danmaku_default_arcane_damage_modifier_transfer			which = th_danmaku_default_arcane_damage_modifier }
		set_variable = { which = th_danmaku_default_infernal_damage_modifier_transfer		which = th_danmaku_default_infernal_damage_modifier }

		set_variable = { which = th_danmaku_default_physical_resistance_transfer			which = th_danmaku_default_physical_resistance }
		set_variable = { which = th_danmaku_default_magical_resistance_transfer				which = th_danmaku_default_magical_resistance }
		set_variable = { which = th_danmaku_default_psionic_resistance_transfer				which = th_danmaku_default_psionic_resistance }
		set_variable = { which = th_danmaku_default_bludgeoning_resistance_transfer			which = th_danmaku_default_bludgeoning_resistance }
		set_variable = { which = th_danmaku_default_piercing_resistance_transfer			which = th_danmaku_default_piercing_resistance }
		set_variable = { which = th_danmaku_default_slashing_resistance_transfer			which = th_danmaku_default_slashing_resistance }
		set_variable = { which = th_danmaku_default_fire_resistance_transfer				which = th_danmaku_default_fire_resistance }
		set_variable = { which = th_danmaku_default_frost_resistance_transfer				which = th_danmaku_default_frost_resistance }
		set_variable = { which = th_danmaku_default_earth_resistance_transfer				which = th_danmaku_default_earth_resistance }
		set_variable = { which = th_danmaku_default_lightning_resistance_transfer			which = th_danmaku_default_lightning_resistance }
		set_variable = { which = th_danmaku_default_nature_resistance_transfer				which = th_danmaku_default_nature_resistance }
		set_variable = { which = th_danmaku_default_holy_resistance_transfer				which = th_danmaku_default_holy_resistance }
		set_variable = { which = th_danmaku_default_shadow_resistance_transfer				which = th_danmaku_default_shadow_resistance }
		set_variable = { which = th_danmaku_default_necrotic_resistance_transfer			which = th_danmaku_default_necrotic_resistance }
		set_variable = { which = th_danmaku_default_arcane_resistance_transfer				which = th_danmaku_default_arcane_resistance }
		set_variable = { which = th_danmaku_default_infernal_resistance_transfer			which = th_danmaku_default_infernal_resistance }

		set_variable = { which = th_danmaku_default_healing_die_transfer					which = th_danmaku_default_healing_die }
		set_variable = { which = th_danmaku_default_healing_die_num_transfer				which = th_danmaku_default_healing_die_num }
		set_variable = { which = th_danmaku_default_healing_crit_roll_needed_transfer		which = th_danmaku_default_healing_crit_roll_needed }
		set_variable = { which = th_danmaku_default_healing_received_bonus_transfer			which = th_danmaku_default_healing_received_bonus }
		set_variable = { which = th_danmaku_default_healing_received_modifier_transfer		which = th_danmaku_default_healing_received_modifier }

		set_variable = { which = th_danmaku_default_armor_class_transfer					which = th_danmaku_default_armor_class }
		set_variable = { which = th_danmaku_default_saving_throw_die_transfer				which = th_danmaku_default_saving_throw_die }
		set_variable = { which = th_danmaku_default_resistance_transfer						which = th_danmaku_default_resistance }

		set_variable = { which = th_danmaku_default_gold_gain_transfer						which = th_danmaku_default_gold_gain }
		set_variable = { which = th_danmaku_default_power_gain_transfer						which = th_danmaku_default_power_gain }
		set_variable = { which = th_danmaku_default_start_level_transfer					which = th_danmaku_default_start_level }
		set_variable = { which = th_danmaku_default_level_1_exp_transfer					which = th_danmaku_default_level_1_exp }
		set_variable = { which = th_danmaku_default_start_exp_transfer						which = th_danmaku_default_start_exp }
		set_variable = { which = th_danmaku_default_start_skills_transfer					which = th_danmaku_default_starting_skill_points }
		PREV = {
			set_variable = { which = th_danmaku_default_max_health_transfer 					which = PREV }
			set_variable = { which = th_danmaku_default_max_mana_transfer						which = PREV }
			set_variable = { which = th_danmaku_default_max_action_points_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_hpm_transfer							which = PREV }
			set_variable = { which = th_danmaku_default_mpm_transfer							which = PREV }
			set_variable = { which = th_danmaku_default_ini_bonus_transfer						which = PREV }
			set_variable = { which = th_danmaku_default_hit_bonus_transfer						which = PREV }
			set_variable = { which = th_danmaku_default_physical_attack_bonus_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_physical_attack_die_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_physical_attack_die_num_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_physical_crit_roll_needed_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_magical_attack_bonus_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_magical_attack_die_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_magical_attack_die_num_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_magical_crit_roll_needed_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_psionic_attack_bonus_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_psionic_attack_die_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_psionic_attack_die_num_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_psionic_crit_roll_needed_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_crit_roll_damage_multipler_transfer		which = PREV }

			set_variable = { which = th_danmaku_default_physical_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_magical_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_psionic_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_bludgeoning_damage_modifier_transfer	which = PREV }
			set_variable = { which = th_danmaku_default_piercing_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_slashing_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_fire_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_frost_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_earth_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_lightning_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_nature_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_holy_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_shadow_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_necrotic_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_arcane_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_infernal_damage_modifier_transfer		which = PREV }

			set_variable = { which = th_danmaku_default_physical_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_magical_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_psionic_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_bludgeoning_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_piercing_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_slashing_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_fire_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_frost_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_earth_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_lightning_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_nature_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_holy_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_shadow_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_necrotic_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_arcane_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_infernal_resistance_transfer			which = PREV }
			
			set_variable = { which = th_danmaku_default_healing_die_transfer					which = PREV }
			set_variable = { which = th_danmaku_default_healing_die_num_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_healing_crit_roll_needed_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_healing_received_bonus_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_healing_received_modifier_transfer		which = PREV }

			set_variable = { which = th_danmaku_default_armor_class_transfer					which = PREV }
			set_variable = { which = th_danmaku_default_saving_throw_die_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_resistance_transfer						which = PREV }

			set_variable = { which = th_danmaku_default_gold_gain_transfer						which = PREV }
			set_variable = { which = th_danmaku_default_power_gain_transfer						which = PREV }
			set_variable = { which = th_danmaku_default_start_level_transfer					which = PREV }
			set_variable = { which = th_danmaku_default_level_1_exp_transfer					which = PREV }
			set_variable = { which = th_danmaku_default_start_exp_transfer						which = PREV }
			set_variable = { which = th_danmaku_default_start_skills_transfer					which = PREV }
			
			set_variable = { which = th_danmaku_max_health 								which = th_danmaku_default_max_health_transfer }
			set_variable = { which = th_danmaku_health 									which = th_danmaku_default_max_health_transfer }
			set_variable = { which = th_danmaku_max_mana								which = th_danmaku_default_max_mana_transfer }
			set_variable = { which = th_danmaku_mana									which = th_danmaku_default_max_mana_transfer }
			set_variable = { which = th_danmaku_max_action_points 						which = th_danmaku_default_max_action_points_transfer }
			set_variable = { which = th_danmaku_action_points 							which = th_danmaku_default_max_action_points_transfer }
			set_variable = { which = th_danmaku_hpm										which = th_danmaku_default_hpm_transfer }
			set_variable = { which = th_danmaku_mpm										which = th_danmaku_default_mpm_transfer }
			set_variable = { which = th_danmaku_ini_bonus								which = th_danmaku_default_ini_bonus_transfer }
			set_variable = { which = th_danmaku_hit_bonus								which = th_danmaku_default_hit_bonus_transfer }
			set_variable = { which = th_danmaku_physical_attack_bonus					which = th_danmaku_default_physical_attack_bonus_transfer }
			set_variable = { which = th_danmaku_physical_attack_die						which = th_danmaku_default_physical_attack_die_transfer }
			set_variable = { which = th_danmaku_physical_attack_die_num					which = th_danmaku_default_physical_attack_die_num_transfer }
			set_variable = { which = th_danmaku_physical_crit_roll_needed				which = th_danmaku_default_physical_crit_roll_needed_transfer }
			set_variable = { which = th_danmaku_physical_crit_roll_damage_multiplier	which = th_danmaku_default_crit_roll_damage_multipler_transfer }
			set_variable = { which = th_danmaku_magical_attack_bonus					which = th_danmaku_default_magical_attack_bonus_transfer }
			set_variable = { which = th_danmaku_magical_attack_die						which = th_danmaku_default_magical_attack_die_transfer }
			set_variable = { which = th_danmaku_magical_attack_die_num					which = th_danmaku_default_magical_attack_die_num_transfer }
			set_variable = { which = th_danmaku_magical_crit_roll_needed				which = th_danmaku_default_magical_crit_roll_needed_transfer }
			set_variable = { which = th_danmaku_magical_crit_roll_damage_multiplier		which = th_danmaku_default_crit_roll_damage_multipler_transfer }
			set_variable = { which = th_danmaku_psionic_attack_bonus					which = th_danmaku_default_psionic_attack_bonus_transfer }
			set_variable = { which = th_danmaku_psionic_attack_die						which = th_danmaku_default_psionic_attack_die_transfer }
			set_variable = { which = th_danmaku_psionic_attack_die_num					which = th_danmaku_default_psionic_attack_die_num_transfer }
			set_variable = { which = th_danmaku_psionic_crit_roll_needed				which = th_danmaku_default_psionic_crit_roll_needed_transfer }
			set_variable = { which = th_danmaku_psionic_crit_roll_damage_multiplier		which = th_danmaku_default_crit_roll_damage_multipler_transfer }

			set_variable = { which = th_danmaku_physical_damage_modifier				which = th_danmaku_default_physical_damage_modifier_transfer }
			set_variable = { which = th_danmaku_magical_damage_modifier					which = th_danmaku_default_magical_damage_modifier_transfer }
			set_variable = { which = th_danmaku_psionic_damage_modifier					which = th_danmaku_default_psionic_damage_modifier_transfer }
			set_variable = { which = th_danmaku_bludgeoning_damage_modifier				which = th_danmaku_default_bludgeoning_damage_modifier_transfer }
			set_variable = { which = th_danmaku_piercing_damage_modifier				which = th_danmaku_default_piercing_damage_modifier_transfer }
			set_variable = { which = th_danmaku_slashing_damage_modifier				which = th_danmaku_default_slashing_damage_modifier_transfer }
			set_variable = { which = th_danmaku_fire_damage_modifier					which = th_danmaku_default_fire_damage_modifier_transfer }
			set_variable = { which = th_danmaku_frost_damage_modifier					which = th_danmaku_default_frost_damage_modifier_transfer }
			set_variable = { which = th_danmaku_earth_damage_modifier					which = th_danmaku_default_earth_damage_modifier_transfer }
			set_variable = { which = th_danmaku_lightning_damage_modifier				which = th_danmaku_default_lightning_damage_modifier_transfer }
			set_variable = { which = th_danmaku_nature_damage_modifier					which = th_danmaku_default_nature_damage_modifier_transfer }
			set_variable = { which = th_danmaku_holy_damage_modifier					which = th_danmaku_default_holy_damage_modifier_transfer }
			set_variable = { which = th_danmaku_shadow_damage_modifier					which = th_danmaku_default_shadow_damage_modifier_transfer }
			set_variable = { which = th_danmaku_necrotic_damage_modifier				which = th_danmaku_default_necrotic_damage_modifier_transfer }
			set_variable = { which = th_danmaku_arcane_damage_modifier					which = th_danmaku_default_arcane_damage_modifier_transfer }
			set_variable = { which = th_danmaku_infernal_damage_modifier				which = th_danmaku_default_infernal_damage_modifier_transfer }
			set_variable = { which = th_danmaku_physical_resistance						which = th_danmaku_default_physical_resistance_transfer }
			set_variable = { which = th_danmaku_magical_resistance						which = th_danmaku_default_magical_resistance_transfer }
			set_variable = { which = th_danmaku_psionic_resistance						which = th_danmaku_default_psionic_resistance_transfer }
			set_variable = { which = th_danmaku_bludgeoning_resistance					which = th_danmaku_default_bludgeoning_resistance_transfer }
			set_variable = { which = th_danmaku_piercing_resistance						which = th_danmaku_default_piercing_resistance_transfer }
			set_variable = { which = th_danmaku_slashing_resistance						which = th_danmaku_default_slashing_resistance_transfer }
			set_variable = { which = th_danmaku_fire_resistance							which = th_danmaku_default_fire_resistance_transfer }
			set_variable = { which = th_danmaku_frost_resistance						which = th_danmaku_default_frost_resistance_transfer }
			set_variable = { which = th_danmaku_earth_resistance						which = th_danmaku_default_earth_resistance_transfer }
			set_variable = { which = th_danmaku_lightning_resistance					which = th_danmaku_default_lightning_resistance_transfer }
			set_variable = { which = th_danmaku_nature_resistance						which = th_danmaku_default_nature_resistance_transfer }
			set_variable = { which = th_danmaku_holy_resistance							which = th_danmaku_default_holy_resistance_transfer }
			set_variable = { which = th_danmaku_shadow_resistance						which = th_danmaku_default_shadow_resistance_transfer }
			set_variable = { which = th_danmaku_necrotic_resistance						which = th_danmaku_default_necrotic_resistance_transfer }
			set_variable = { which = th_danmaku_arcane_resistance						which = th_danmaku_default_arcane_resistance_transfer }
			set_variable = { which = th_danmaku_infernal_resistance						which = th_danmaku_default_infernal_resistance_transfer }
			
			set_variable = { which = th_danmaku_healing_die								which = th_danmaku_default_healing_die_transfer }
			set_variable = { which = th_danmaku_healing_die_num							which = th_danmaku_default_healing_die_num_transfer }
			set_variable = { which = th_danmaku_healing_crit_roll_needed				which = th_danmaku_default_healing_crit_roll_needed_transfer }
			set_variable = { which = th_danmaku_healing_received_bonus					which = th_danmaku_default_healing_received_bonus_transfer }
			set_variable = { which = th_danmaku_healing_received_modifier				which = th_danmaku_default_healing_received_modifier_transfer }

			set_variable = { which = th_danmaku_armor_class								which = th_danmaku_default_armor_class_transfer }
			set_variable = { which = th_danmaku_saving_throw_die						which = th_danmaku_default_saving_throw_die_transfer }
			set_variable = { which = th_danmaku_resistance								which = th_danmaku_default_resistance_transfer }

			set_variable = { which = th_danmaku_gold_gain								which = th_danmaku_default_gold_gain_transfer }
			set_variable = { which = th_danmaku_power_gain								which = th_danmaku_default_power_gain_transfer }
			set_variable = { which = th_ruler_danmaku_level								which = th_danmaku_default_start_level_transfer }
			set_variable = { which = th_danmaku_exp_threshold							which = th_danmaku_default_level_1_exp_transfer }
			set_variable = { which = th_danmaku_current_exp								which = th_danmaku_default_start_exp_transfer }
			set_variable = { which = th_danmaku_available_skill_points					which = th_danmaku_default_start_skills_transfer }
			set_variable = { which = th_danmaku_default_max_level						which = PREV }	#Utilizes same variable name
		}
	}
	#Set all the show variables
	th_gui_update_danmaku_bar = { type = health }
	th_gui_update_danmaku_bar = { type = mana }
	th_gui_update_danmaku_bar = { type = exp }
	th_gui_update_danmaku_bar = { type = action_points }
	th_update_gain_modifier = { type = gold }
	th_update_gain_modifier = { type = power }
}

th_transfer_default_stats_to_target_vars = {
	1 = {
		set_variable = { which = th_danmaku_default_max_health_transfer 				which = th_danmaku_default_max_health }
		set_variable = { which = th_danmaku_default_max_mana_transfer					which = th_danmaku_default_max_mana }
		set_variable = { which = th_danmaku_default_max_action_points_transfer			which = th_danmaku_default_max_action_points }
		set_variable = { which = th_danmaku_default_ini_bonus_transfer					which = th_danmaku_default_ini_bonus }
		set_variable = { which = th_danmaku_default_hit_bonus_transfer					which = th_danmaku_default_hit_bonus }

		set_variable = { which = th_danmaku_default_physical_attack_bonus_transfer		which = th_danmaku_default_physical_attack_bonus }
		set_variable = { which = th_danmaku_default_physical_attack_die_transfer		which = th_danmaku_default_physical_attack_die }
		set_variable = { which = th_danmaku_default_physical_attack_die_num_transfer	which = th_danmaku_default_physical_attack_die_num }
		set_variable = { which = th_danmaku_default_physical_crit_roll_needed_transfer	which = th_danmaku_default_physical_crit_roll_needed }
		set_variable = { which = th_danmaku_default_magical_attack_bonus_transfer		which = th_danmaku_default_magical_attack_bonus }
		set_variable = { which = th_danmaku_default_magical_attack_die_transfer			which = th_danmaku_default_magical_attack_die }
		set_variable = { which = th_danmaku_default_magical_attack_die_num_transfer		which = th_danmaku_default_magical_attack_die_num }
		set_variable = { which = th_danmaku_default_magical_crit_roll_needed_transfer	which = th_danmaku_default_magical_crit_roll_needed }
		set_variable = { which = th_danmaku_default_psionic_attack_bonus_transfer		which = th_danmaku_default_psionic_attack_bonus }
		set_variable = { which = th_danmaku_default_psionic_attack_die_transfer			which = th_danmaku_default_psionic_attack_die }
		set_variable = { which = th_danmaku_default_psionic_attack_die_num_transfer		which = th_danmaku_default_psionic_attack_die_num }
		set_variable = { which = th_danmaku_default_psionic_crit_roll_needed_transfer	which = th_danmaku_default_psionic_crit_roll_needed }
		set_variable = { which = th_danmaku_default_crit_roll_damage_multipler_transfer	which = th_danmaku_default_crit_damage_multiplier }

		set_variable = { which = th_danmaku_default_physical_damage_modifier_transfer		which = th_danmaku_default_physical_damage_modifier }
		set_variable = { which = th_danmaku_default_magical_damage_modifier_transfer		which = th_danmaku_default_magical_damage_modifier }
		set_variable = { which = th_danmaku_default_psionic_damage_modifier_transfer		which = th_danmaku_default_psionic_damage_modifier }
		set_variable = { which = th_danmaku_default_bludgeoning_damage_modifier_transfer	which = th_danmaku_default_bludgeoning_damage_modifier }
		set_variable = { which = th_danmaku_default_piercing_damage_modifier_transfer		which = th_danmaku_default_piercing_damage_modifier }
		set_variable = { which = th_danmaku_default_slashing_damage_modifier_transfer		which = th_danmaku_default_slashing_damage_modifier }
		set_variable = { which = th_danmaku_default_fire_damage_modifier_transfer			which = th_danmaku_default_fire_damage_modifier }
		set_variable = { which = th_danmaku_default_frost_damage_modifier_transfer			which = th_danmaku_default_frost_damage_modifier }
		set_variable = { which = th_danmaku_default_earth_damage_modifier_transfer			which = th_danmaku_default_earth_damage_modifier }
		set_variable = { which = th_danmaku_default_lightning_damage_modifier_transfer		which = th_danmaku_default_lightning_damage_modifier }
		set_variable = { which = th_danmaku_default_nature_damage_modifier_transfer			which = th_danmaku_default_nature_damage_modifier }
		set_variable = { which = th_danmaku_default_holy_damage_modifier_transfer			which = th_danmaku_default_holy_damage_modifier }
		set_variable = { which = th_danmaku_default_shadow_damage_modifier_transfer			which = th_danmaku_default_shadow_damage_modifier }
		set_variable = { which = th_danmaku_default_necrotic_damage_modifier_transfer		which = th_danmaku_default_necrotic_damage_modifier }
		set_variable = { which = th_danmaku_default_arcane_damage_modifier_transfer			which = th_danmaku_default_arcane_damage_modifier }
		set_variable = { which = th_danmaku_default_infernal_damage_modifier_transfer		which = th_danmaku_default_infernal_damage_modifier }
		set_variable = { which = th_danmaku_default_physical_resistance_transfer			which = th_danmaku_default_physical_resistance }
		set_variable = { which = th_danmaku_default_magical_resistance_transfer				which = th_danmaku_default_magical_resistance }
		set_variable = { which = th_danmaku_default_psionic_resistance_transfer				which = th_danmaku_default_psionic_resistance }
		set_variable = { which = th_danmaku_default_bludgeoning_resistance_transfer			which = th_danmaku_default_bludgeoning_resistance }
		set_variable = { which = th_danmaku_default_piercing_resistance_transfer			which = th_danmaku_default_piercing_resistance }
		set_variable = { which = th_danmaku_default_slashing_resistance_transfer			which = th_danmaku_default_slashing_resistance }
		set_variable = { which = th_danmaku_default_fire_resistance_transfer				which = th_danmaku_default_fire_resistance }
		set_variable = { which = th_danmaku_default_frost_resistance_transfer				which = th_danmaku_default_frost_resistance }
		set_variable = { which = th_danmaku_default_earth_resistance_transfer				which = th_danmaku_default_earth_resistance }
		set_variable = { which = th_danmaku_default_lightning_resistance_transfer			which = th_danmaku_default_lightning_resistance }
		set_variable = { which = th_danmaku_default_nature_resistance_transfer				which = th_danmaku_default_nature_resistance }
		set_variable = { which = th_danmaku_default_holy_resistance_transfer				which = th_danmaku_default_holy_resistance }
		set_variable = { which = th_danmaku_default_shadow_resistance_transfer				which = th_danmaku_default_shadow_resistance }
		set_variable = { which = th_danmaku_default_necrotic_resistance_transfer			which = th_danmaku_default_necrotic_resistance }
		set_variable = { which = th_danmaku_default_arcane_resistance_transfer				which = th_danmaku_default_arcane_resistance }
		set_variable = { which = th_danmaku_default_infernal_resistance_transfer			which = th_danmaku_default_infernal_resistance }

		set_variable = { which = th_danmaku_default_healing_die_transfer					which = th_danmaku_default_healing_die }
		set_variable = { which = th_danmaku_default_healing_die_num_transfer				which = th_danmaku_default_healing_die_num }
		set_variable = { which = th_danmaku_default_healing_crit_roll_needed_transfer		which = th_danmaku_default_healing_crit_roll_needed }
		set_variable = { which = th_danmaku_default_healing_received_bonus_transfer			which = th_danmaku_default_healing_received_bonus }
		set_variable = { which = th_danmaku_default_healing_received_modifier_transfer		which = th_danmaku_default_healing_received_modifier }

		set_variable = { which = th_danmaku_default_armor_class_transfer					which = th_danmaku_default_armor_class }
		set_variable = { which = th_danmaku_default_saving_throw_die_transfer				which = th_danmaku_default_saving_throw_die }
		set_variable = { which = th_danmaku_default_resistance_transfer						which = th_danmaku_default_resistance }

		set_variable = { which = th_danmaku_default_start_level_transfer					which = th_danmaku_default_start_level }
		PREV = {
			set_variable = { which = th_danmaku_default_max_health_transfer 				which = PREV }
			set_variable = { which = th_danmaku_default_max_mana_transfer					which = PREV }
			set_variable = { which = th_danmaku_default_max_action_points_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_ini_bonus_transfer					which = PREV }
			set_variable = { which = th_danmaku_default_hit_bonus_transfer					which = PREV }
			
			set_variable = { which = th_danmaku_default_physical_attack_bonus_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_physical_attack_die_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_physical_attack_die_num_transfer	which = PREV }
			set_variable = { which = th_danmaku_default_physical_crit_roll_needed_transfer	which = PREV }
			set_variable = { which = th_danmaku_default_magical_attack_bonus_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_magical_attack_die_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_magical_attack_die_num_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_magical_crit_roll_needed_transfer	which = PREV }
			set_variable = { which = th_danmaku_default_psionic_attack_bonus_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_psionic_attack_die_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_psionic_attack_die_num_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_psionic_crit_roll_needed_transfer	which = PREV }
			set_variable = { which = th_danmaku_default_crit_roll_damage_multipler_transfer	which = PREV }

			set_variable = { which = th_danmaku_default_physical_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_magical_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_psionic_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_bludgeoning_damage_modifier_transfer	which = PREV }
			set_variable = { which = th_danmaku_default_piercing_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_slashing_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_fire_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_frost_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_earth_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_lightning_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_nature_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_holy_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_shadow_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_necrotic_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_arcane_damage_modifier_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_infernal_damage_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_physical_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_magical_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_psionic_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_bludgeoning_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_piercing_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_slashing_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_fire_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_frost_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_earth_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_lightning_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_nature_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_holy_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_shadow_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_necrotic_resistance_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_arcane_resistance_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_infernal_resistance_transfer			which = PREV }

			set_variable = { which = th_danmaku_default_healing_die_transfer					which = PREV }
			set_variable = { which = th_danmaku_default_healing_die_num_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_healing_crit_roll_needed_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_healing_received_bonus_transfer			which = PREV }
			set_variable = { which = th_danmaku_default_healing_received_modifier_transfer		which = PREV }
			set_variable = { which = th_danmaku_default_armor_class_transfer					which = PREV }
			set_variable = { which = th_danmaku_default_saving_throw_die_transfer				which = PREV }
			set_variable = { which = th_danmaku_default_resistance_transfer						which = PREV }

			set_variable = { which = th_danmaku_default_start_level_transfer				which = PREV }

			set_variable = { which = $max_hp_var$								which = th_danmaku_default_max_health_transfer					}
			set_variable = { which = $max_mp_var$								which = th_danmaku_default_max_mana_transfer					}
			set_variable = { which = $max_ap_var$								which = th_danmaku_default_max_action_points_transfer			}
			set_variable = { which = $initiative_bonus_var$						which = th_danmaku_default_ini_bonus_transfer					}
			set_variable = { which = $hit_bonus_var$							which = th_danmaku_default_hit_bonus_transfer					}

			set_variable = { which = $physical_attack_bonus_var$				which = th_danmaku_default_physical_attack_bonus_transfer		}
			set_variable = { which = $physical_attack_die_var$					which = th_danmaku_default_physical_attack_die_transfer			}
			set_variable = { which = $physical_attack_die_num_var$				which = th_danmaku_default_physical_attack_die_num_transfer		}
			set_variable = { which = $physical_crit_roll_needed_var$			which = th_danmaku_default_physical_crit_roll_needed_transfer	}
			set_variable = { which = $physical_crit_roll_multiplier_var$		which = th_danmaku_default_crit_roll_damage_multipler_transfer	}
			set_variable = { which = $magical_attack_bonus_var$					which = th_danmaku_default_magical_attack_bonus_transfer		}
			set_variable = { which = $magical_attack_die_var$					which = th_danmaku_default_magical_attack_die_transfer			}
			set_variable = { which = $magical_attack_die_num_var$				which = th_danmaku_default_magical_attack_die_num_transfer		}
			set_variable = { which = $magical_crit_roll_needed_var$				which = th_danmaku_default_magical_crit_roll_needed_transfer	}
			set_variable = { which = $magical_crit_roll_multiplier_var$			which = th_danmaku_default_crit_roll_damage_multipler_transfer	}
			set_variable = { which = $psionic_attack_bonus_var$					which = th_danmaku_default_psionic_attack_bonus_transfer		}
			set_variable = { which = $psionic_attack_die_var$					which = th_danmaku_default_psionic_attack_die_transfer			}
			set_variable = { which = $psionic_attack_die_num_var$				which = th_danmaku_default_psionic_attack_die_num_transfer		}
			set_variable = { which = $psionic_crit_roll_needed_var$				which = th_danmaku_default_psionic_crit_roll_needed_transfer	}
			set_variable = { which = $psionic_crit_roll_multiplier_var$			which = th_danmaku_default_crit_roll_damage_multipler_transfer	}

			set_variable = { which = $physical_damage_modifier_var$					which = th_danmaku_default_physical_damage_modifier_transfer	}
			set_variable = { which = $magical_damage_modifier_var$					which = th_danmaku_default_magical_damage_modifier_transfer		}
			set_variable = { which = $psionic_damage_modifier_var$					which = th_danmaku_default_psionic_damage_modifier_transfer		}
			set_variable = { which = $bludgeoning_damage_modifier_var$				which = th_danmaku_default_bludgeoning_damage_modifier_transfer	}
			set_variable = { which = $piercing_damage_modifier_var$					which = th_danmaku_default_piercing_damage_modifier_transfer	}
			set_variable = { which = $slashing_damage_modifier_var$					which = th_danmaku_default_slashing_damage_modifier_transfer	}
			set_variable = { which = $fire_damage_modifier_var$						which = th_danmaku_default_fire_damage_modifier_transfer		}
			set_variable = { which = $frost_damage_modifier_var$					which = th_danmaku_default_frost_damage_modifier_transfer		}
			set_variable = { which = $earth_damage_modifier_var$					which = th_danmaku_default_earth_damage_modifier_transfer		}
			set_variable = { which = $lightning_damage_modifier_var$				which = th_danmaku_default_lightning_damage_modifier_transfer	}
			set_variable = { which = $nature_damage_modifier_var$					which = th_danmaku_default_nature_damage_modifier_transfer		}
			set_variable = { which = $holy_damage_modifier_var$						which = th_danmaku_default_holy_damage_modifier_transfer		}
			set_variable = { which = $shadow_damage_modifier_var$					which = th_danmaku_default_shadow_damage_modifier_transfer		}
			set_variable = { which = $necrotic_damage_modifier_var$					which = th_danmaku_default_necrotic_damage_modifier_transfer	}
			set_variable = { which = $arcane_damage_modifier_var$					which = th_danmaku_default_arcane_damage_modifier_transfer		}
			set_variable = { which = $infernal_damage_modifier_var$					which = th_danmaku_default_infernal_damage_modifier_transfer	}
			set_variable = { which = $physical_resistance_var$						which = th_danmaku_default_physical_resistance_transfer			}
			set_variable = { which = $magical_resistance_var$						which = th_danmaku_default_magical_resistance_transfer			}
			set_variable = { which = $psionic_resistance_var$						which = th_danmaku_default_psionic_resistance_transfer			}
			set_variable = { which = $bludgeoning_resistance_var$					which = th_danmaku_default_bludgeoning_resistance_transfer		}
			set_variable = { which = $piercing_resistance_var$						which = th_danmaku_default_piercing_resistance_transfer			}
			set_variable = { which = $slashing_resistance_var$						which = th_danmaku_default_slashing_resistance_transfer			}
			set_variable = { which = $fire_resistance_var$							which = th_danmaku_default_fire_resistance_transfer				}
			set_variable = { which = $frost_resistance_var$							which = th_danmaku_default_frost_resistance_transfer			}
			set_variable = { which = $earth_resistance_var$							which = th_danmaku_default_earth_resistance_transfer			}
			set_variable = { which = $lightning_resistance_var$						which = th_danmaku_default_lightning_resistance_transfer		}
			set_variable = { which = $nature_resistance_var$						which = th_danmaku_default_nature_resistance_transfer			}
			set_variable = { which = $holy_resistance_var$							which = th_danmaku_default_holy_resistance_transfer				}
			set_variable = { which = $shadow_resistance_var$						which = th_danmaku_default_shadow_resistance_transfer			}
			set_variable = { which = $necrotic_resistance_var$						which = th_danmaku_default_necrotic_resistance_transfer			}
			set_variable = { which = $arcane_resistance_var$						which = th_danmaku_default_arcane_resistance_transfer			}
			set_variable = { which = $infernal_resistance_var$						which = th_danmaku_default_infernal_resistance_transfer			}

			set_variable = { which = $healing_die_var$								which = th_danmaku_default_healing_die_transfer					}
			set_variable = { which = $healing_die_num_var$							which = th_danmaku_default_healing_die_num_transfer				}
			set_variable = { which = $healing_crit_roll_needed_var$					which = th_danmaku_default_healing_crit_roll_needed_transfer	}
			set_variable = { which = $healing_received_bonus_var$					which = th_danmaku_default_healing_received_bonus_transfer		}
			set_variable = { which = $healing_received_modifier_var$				which = th_danmaku_default_healing_received_modifier_transfer	}
			set_variable = { which = $armor_class_var$								which = th_danmaku_default_armor_class_transfer					}
			set_variable = { which = $saving_throw_die_var$							which = th_danmaku_default_saving_throw_die_transfer			}
			set_variable = { which = $resistance_var$								which = th_danmaku_default_resistance_transfer					}

			set_variable = { which = $level_var$								which = th_danmaku_default_start_level_transfer					}
		}
	}
}


################################################
# ABILITY DEFINITOINS                          #
################################################
th_use_ability_attack = {
	th_change_combat_resource_ability = { ability = attack type = action_points value = -30 }
	th_perform_attack = {
		ability = attack
		type = physical
		school = piercing
	}
	th_create_ability_combat_log = {
		type = current_recipient
		verb = attacks
		article = NULL
		ability = NULL
		preposition = NULL
		ability_effect = dealing
		number_impact = yes
		is_damage = yes
		is_health = NULL
		is_mana = NULL
		is_action_points = NULL
		is_critical = NULL
		hit_roll = yes
		ability_roll = yes
	}
}