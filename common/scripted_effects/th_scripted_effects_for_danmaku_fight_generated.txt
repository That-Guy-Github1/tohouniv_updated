th_change_danmaku_instance_round = {
	if = { limit = { th_get_danmaku_duel_instance = { instance = 1 } } th_change_danmaku_specific_instance_round = { instance = 1 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 2 } } th_change_danmaku_specific_instance_round = { instance = 2 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 3 } } th_change_danmaku_specific_instance_round = { instance = 3 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 4 } } th_change_danmaku_specific_instance_round = { instance = 4 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 5 } } th_change_danmaku_specific_instance_round = { instance = 5 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 6 } } th_change_danmaku_specific_instance_round = { instance = 6 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 7 } } th_change_danmaku_specific_instance_round = { instance = 7 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 8 } } th_change_danmaku_specific_instance_round = { instance = 8 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 9 } } th_change_danmaku_specific_instance_round = { instance = 9 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 10 } } th_change_danmaku_specific_instance_round = { instance = 10 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 11 } } th_change_danmaku_specific_instance_round = { instance = 11 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 12 } } th_change_danmaku_specific_instance_round = { instance = 12 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 13 } } th_change_danmaku_specific_instance_round = { instance = 13 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 14 } } th_change_danmaku_specific_instance_round = { instance = 14 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 15 } } th_change_danmaku_specific_instance_round = { instance = 15 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 16 } } th_change_danmaku_specific_instance_round = { instance = 16 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 17 } } th_change_danmaku_specific_instance_round = { instance = 17 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 18 } } th_change_danmaku_specific_instance_round = { instance = 18 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 19 } } th_change_danmaku_specific_instance_round = { instance = 19 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 20 } } th_change_danmaku_specific_instance_round = { instance = 20 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 21 } } th_change_danmaku_specific_instance_round = { instance = 21 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 22 } } th_change_danmaku_specific_instance_round = { instance = 22 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 23 } } th_change_danmaku_specific_instance_round = { instance = 23 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 24 } } th_change_danmaku_specific_instance_round = { instance = 24 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 25 } } th_change_danmaku_specific_instance_round = { instance = 25 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 26 } } th_change_danmaku_specific_instance_round = { instance = 26 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 27 } } th_change_danmaku_specific_instance_round = { instance = 27 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 28 } } th_change_danmaku_specific_instance_round = { instance = 28 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 29 } } th_change_danmaku_specific_instance_round = { instance = 29 opponent = $opponent$ } }
	if = { limit = { th_get_danmaku_duel_instance = { instance = 30 } } th_change_danmaku_specific_instance_round = { instance = 30 opponent = $opponent$ } }
}

th_select_enemy_event_target_and_do_effect = {
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 1 } } event_target:th_danmaku_duelist_of_id_1_of_instance_1 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 2 } } event_target:th_danmaku_duelist_of_id_1_of_instance_2 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 3 } } event_target:th_danmaku_duelist_of_id_1_of_instance_3 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 4 } } event_target:th_danmaku_duelist_of_id_1_of_instance_4 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 5 } } event_target:th_danmaku_duelist_of_id_1_of_instance_5 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 6 } } event_target:th_danmaku_duelist_of_id_1_of_instance_6 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 7 } } event_target:th_danmaku_duelist_of_id_1_of_instance_7 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 8 } } event_target:th_danmaku_duelist_of_id_1_of_instance_8 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 9 } } event_target:th_danmaku_duelist_of_id_1_of_instance_9 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 10 } } event_target:th_danmaku_duelist_of_id_1_of_instance_10 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 11 } } event_target:th_danmaku_duelist_of_id_1_of_instance_11 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 12 } } event_target:th_danmaku_duelist_of_id_1_of_instance_12 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 13 } } event_target:th_danmaku_duelist_of_id_1_of_instance_13 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 14 } } event_target:th_danmaku_duelist_of_id_1_of_instance_14 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 15 } } event_target:th_danmaku_duelist_of_id_1_of_instance_15 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 16 } } event_target:th_danmaku_duelist_of_id_1_of_instance_16 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 17 } } event_target:th_danmaku_duelist_of_id_1_of_instance_17 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 18 } } event_target:th_danmaku_duelist_of_id_1_of_instance_18 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 19 } } event_target:th_danmaku_duelist_of_id_1_of_instance_19 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 20 } } event_target:th_danmaku_duelist_of_id_1_of_instance_20 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 21 } } event_target:th_danmaku_duelist_of_id_1_of_instance_21 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 22 } } event_target:th_danmaku_duelist_of_id_1_of_instance_22 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 23 } } event_target:th_danmaku_duelist_of_id_1_of_instance_23 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 24 } } event_target:th_danmaku_duelist_of_id_1_of_instance_24 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 25 } } event_target:th_danmaku_duelist_of_id_1_of_instance_25 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 26 } } event_target:th_danmaku_duelist_of_id_1_of_instance_26 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 27 } } event_target:th_danmaku_duelist_of_id_1_of_instance_27 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 28 } } event_target:th_danmaku_duelist_of_id_1_of_instance_28 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 29 } } event_target:th_danmaku_duelist_of_id_1_of_instance_29 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 1 instance = 30 } } event_target:th_danmaku_duelist_of_id_1_of_instance_30 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 1 } } event_target:th_danmaku_duelist_of_id_2_of_instance_1 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 2 } } event_target:th_danmaku_duelist_of_id_2_of_instance_2 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 3 } } event_target:th_danmaku_duelist_of_id_2_of_instance_3 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 4 } } event_target:th_danmaku_duelist_of_id_2_of_instance_4 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 5 } } event_target:th_danmaku_duelist_of_id_2_of_instance_5 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 6 } } event_target:th_danmaku_duelist_of_id_2_of_instance_6 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 7 } } event_target:th_danmaku_duelist_of_id_2_of_instance_7 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 8 } } event_target:th_danmaku_duelist_of_id_2_of_instance_8 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 9 } } event_target:th_danmaku_duelist_of_id_2_of_instance_9 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 10 } } event_target:th_danmaku_duelist_of_id_2_of_instance_10 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 11 } } event_target:th_danmaku_duelist_of_id_2_of_instance_11 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 12 } } event_target:th_danmaku_duelist_of_id_2_of_instance_12 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 13 } } event_target:th_danmaku_duelist_of_id_2_of_instance_13 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 14 } } event_target:th_danmaku_duelist_of_id_2_of_instance_14 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 15 } } event_target:th_danmaku_duelist_of_id_2_of_instance_15 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 16 } } event_target:th_danmaku_duelist_of_id_2_of_instance_16 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 17 } } event_target:th_danmaku_duelist_of_id_2_of_instance_17 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 18 } } event_target:th_danmaku_duelist_of_id_2_of_instance_18 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 19 } } event_target:th_danmaku_duelist_of_id_2_of_instance_19 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 20 } } event_target:th_danmaku_duelist_of_id_2_of_instance_20 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 21 } } event_target:th_danmaku_duelist_of_id_2_of_instance_21 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 22 } } event_target:th_danmaku_duelist_of_id_2_of_instance_22 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 23 } } event_target:th_danmaku_duelist_of_id_2_of_instance_23 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 24 } } event_target:th_danmaku_duelist_of_id_2_of_instance_24 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 25 } } event_target:th_danmaku_duelist_of_id_2_of_instance_25 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 26 } } event_target:th_danmaku_duelist_of_id_2_of_instance_26 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 27 } } event_target:th_danmaku_duelist_of_id_2_of_instance_27 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 28 } } event_target:th_danmaku_duelist_of_id_2_of_instance_28 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 29 } } event_target:th_danmaku_duelist_of_id_2_of_instance_29 = { $effect$ } }
	if = { limit = { th_is_not_danmaku_duel_enemy_target = { country_id = 2 instance = 30 } } event_target:th_danmaku_duelist_of_id_2_of_instance_30 = { $effect$ } }
}

th_monthly_danaku_duel_update = {
	if = {
		limit = {
			has_global_flag = th_setup_danmaku_duels_counter
		}
		th_monthly_danaku_duel_duration_reduction = { instance = 1 }
		th_monthly_danaku_duel_duration_reduction = { instance = 2 }
		th_monthly_danaku_duel_duration_reduction = { instance = 3 }
		th_monthly_danaku_duel_duration_reduction = { instance = 4 }
		th_monthly_danaku_duel_duration_reduction = { instance = 5 }
		th_monthly_danaku_duel_duration_reduction = { instance = 6 }
		th_monthly_danaku_duel_duration_reduction = { instance = 7 }
		th_monthly_danaku_duel_duration_reduction = { instance = 8 }
		th_monthly_danaku_duel_duration_reduction = { instance = 9 }
		th_monthly_danaku_duel_duration_reduction = { instance = 10 }
		th_monthly_danaku_duel_duration_reduction = { instance = 11 }
		th_monthly_danaku_duel_duration_reduction = { instance = 12 }
		th_monthly_danaku_duel_duration_reduction = { instance = 13 }
		th_monthly_danaku_duel_duration_reduction = { instance = 14 }
		th_monthly_danaku_duel_duration_reduction = { instance = 15 }
		th_monthly_danaku_duel_duration_reduction = { instance = 16 }
		th_monthly_danaku_duel_duration_reduction = { instance = 17 }
		th_monthly_danaku_duel_duration_reduction = { instance = 18 }
		th_monthly_danaku_duel_duration_reduction = { instance = 19 }
		th_monthly_danaku_duel_duration_reduction = { instance = 20 }
		th_monthly_danaku_duel_duration_reduction = { instance = 21 }
		th_monthly_danaku_duel_duration_reduction = { instance = 22 }
		th_monthly_danaku_duel_duration_reduction = { instance = 23 }
		th_monthly_danaku_duel_duration_reduction = { instance = 24 }
		th_monthly_danaku_duel_duration_reduction = { instance = 25 }
		th_monthly_danaku_duel_duration_reduction = { instance = 26 }
		th_monthly_danaku_duel_duration_reduction = { instance = 27 }
		th_monthly_danaku_duel_duration_reduction = { instance = 28 }
		th_monthly_danaku_duel_duration_reduction = { instance = 29 }
		th_monthly_danaku_duel_duration_reduction = { instance = 30 }
	}
}

th_clear_log_all_ability_actor_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_actor_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_actor_NULL
}
th_clear_log_all_ability_recipient_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_recipient_2
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_recipient_NULL
}
th_clear_log_specific_ability_actor_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_actor_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_actor_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_actor_2
}
th_clear_log_specific_ability_recipient_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_recipient_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_recipient_1
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_recipient_2
}
th_clear_log_all_ability_verb_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_verb_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_verb_uses
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_verb_performs
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_verb_casts
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_verb_enchants
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_verb_curses
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_verb_strikes
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_verb_shoots
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_verb_attacks
}
th_clear_log_all_ability_article_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_article_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_article_undefined
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_article_defined
}
#ABILITY ADDITION IMPORTANCE: If you add a new ability, make sure to update this effect
th_clear_log_all_ability_ability_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_attack
}
th_clear_log_all_ability_preposition_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_preposition_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_preposition_against
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_preposition_on
}
th_clear_log_all_ability_ability_effect_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_effect_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_effect_miss
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_effect_dealing
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_effect_healing
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_effect_restore
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_effect_afflicting_condition
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_effect_gaining_condition
}
th_clear_log_all_ability_number_impact_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_number_impact_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_number_impact_yes
}
th_clear_log_all_ability_is_damage_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_damage_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_damage_yes
}
th_clear_log_all_ability_is_health_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_health_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_health_yes
}
th_clear_log_all_ability_is_mana_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_mana_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_mana_yes
}
th_clear_log_all_ability_is_action_points_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_action_points_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_action_points_yes
}
th_clear_log_all_ability_is_critical_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_critical_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_critical_yes
}
th_clear_log_all_ability_is_miss_for_instance = {
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_miss_NULL
	clr_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_miss_yes
}

th_clear_combat_log_for_instance = {
	th_clear_log_all_ability_actor_for_instance = { 			instance = $instance$ }
	th_clear_log_all_ability_recipient_for_instance = { 		instance = $instance$ }

	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 1  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 1  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 1  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 1  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 1  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 1  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 1  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 1  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 1  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 1  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 1  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 2  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 2  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 2  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 2  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 2  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 2  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 2  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 2  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 2  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 2  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 2  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 3  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 3  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 3  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 3  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 3  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 3  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 3  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 3  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 3  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 3  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 3  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 4  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 4  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 4  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 4  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 4  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 4  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 4  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 4  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 4  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 4  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 4  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 5  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 5  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 5  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 5  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 5  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 5  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 5  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 5  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 5  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 5  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 5  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 6  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 6  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 6  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 6  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 6  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 6  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 6  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 6  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 6  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 6  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 6  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 7  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 7  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 7  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 7  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 7  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 7  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 7  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 7  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 7  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 7  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 7  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 8  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 8  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 8  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 8  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 8  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 8  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 8  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 8  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 8  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 8  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 8  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 9  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 9  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 9  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 9  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 9  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 9  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 9  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 9  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 9  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 9  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 9  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 10  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 10  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 10  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 10  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 10  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 10  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 10  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 10  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 10  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 10  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 10  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 11  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 11  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 11  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 11  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 11  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 11  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 11  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 11  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 11  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 11  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 11  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 12  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 12  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 12  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 12  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 12  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 12  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 12  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 12  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 12  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 12  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 12  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 13  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 13  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 13  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 13  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 13  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 13  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 13  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 13  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 13  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 13  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 13  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 14  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 14  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 14  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 14  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 14  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 14  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 14  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 14  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 14  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 14  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 14  }
	
	th_clear_log_all_ability_verb_for_instance = { 				instance = $instance$ action = 15  }
	th_clear_log_all_ability_article_for_instance = { 			instance = $instance$ action = 15  }
	th_clear_log_all_ability_ability_for_instance = { 			instance = $instance$ action = 15  }
	th_clear_log_all_ability_preposition_for_instance = { 		instance = $instance$ action = 15  }
	th_clear_log_all_ability_ability_effect_for_instance = { 	instance = $instance$ action = 15  }
	th_clear_log_all_ability_number_impact_for_instance = { 	instance = $instance$ action = 15  }
	th_clear_log_all_ability_is_damage_for_instance = { 		instance = $instance$ action = 15  }
	th_clear_log_all_ability_is_health_for_instance = { 		instance = $instance$ action = 15  }
	th_clear_log_all_ability_is_mana_for_instance = { 			instance = $instance$ action = 15  }
	th_clear_log_all_ability_is_action_points_for_instance = { 	instance = $instance$ action = 15  }
	th_clear_log_all_ability_is_critical_for_instance = { 		instance = $instance$ action = 15  }
}

th_log_ability_actor = { 			set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_actor_$actor$ }
th_log_ability_verb = { 			set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_verb_$verb$ }
th_log_ability_article = { 			set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_article_$article$ }
th_log_ability_ability = { 			set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_$ability$ }
th_log_ability_preposition = { 		set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_preposition_$preposition$ }
th_log_ability_recipient = { 		set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_recipient_$recipient$ }
th_log_ability_ability_effect = { 	set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_ability_effect_$ability_effect$ }
th_log_ability_number_impact = { 	set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_number_impact_$number_impact$ }
th_log_ability_is_damage = { 		set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_damage_$is_damage$ }
th_log_ability_is_health = { 		set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_health_$is_health$ }
th_log_ability_is_mana = { 			set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_mana_$is_mana$ }
th_log_ability_is_action_points = { set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_action_points_$is_action_points$ }
th_log_ability_is_critical = { 		set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_critical_$is_critical$ }
th_log_ability_is_miss = { 			set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_$action$_is_miss_$is_miss$ }

th_log_ability = {
	hidden_effect = {
		1 = {
			if = {
				limit = { check_variable = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 15 } }
				th_clear_combat_log_for_instance = { instance = $instance$ }
				set_variable = {
					which = th_danmaku_duel_logged_actions_for_instance_$instance$
					value = 0
				}
			}
			th_cleanup_for_current_action = { instance = $instance$ }
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 0 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_1_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 1 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_2_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 2 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_3_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 3 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_4_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 4 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_5_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 5 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_6_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 6 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_7_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 7 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_8_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 8 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_9_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 9 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_10_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 10 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_11_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 11 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_12_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 12 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_13_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 13 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_14_is_critical_$is_critical$
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 14 } }
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_actor_$actor$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_ability_verb_$verb$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_ability_article_$article$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_ability_$ability$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_preposition_$preposition$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_recipient_$recipient$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_ability_effect_$ability_effect$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_number_impact_$number_impact$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_is_damage_$is_damage$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_is_health_$is_health$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_is_mana_$is_mana$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_is_action_points_$is_action_points$
				set_permanent_province_flag = th_danmaku_duel_of_instance_$instance$_action_15_is_critical_$is_critical$
			}
			change_variable = {
				which = th_danmaku_duel_logged_actions_for_instance_$instance$
				value = 1
			}
		}
	}
}

th_log_ability_for_current_instance = {
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 1 } }
		th_log_ability = {
			instance = 1
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 2 } }
		th_log_ability = {
			instance = 2
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 3 } }
		th_log_ability = {
			instance = 3
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 4 } }
		th_log_ability = {
			instance = 4
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 5 } }
		th_log_ability = {
			instance = 5
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 6 } }
		th_log_ability = {
			instance = 6
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 7 } }
		th_log_ability = {
			instance = 7
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 8 } }
		th_log_ability = {
			instance = 8
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 9 } }
		th_log_ability = {
			instance = 9
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 10 } }
		th_log_ability = {
			instance = 10
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 11 } }
		th_log_ability = {
			instance = 11
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 12 } }
		th_log_ability = {
			instance = 12
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 13 } }
		th_log_ability = {
			instance = 13
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 14 } }
		th_log_ability = {
			instance = 14
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 15 } }
		th_log_ability = {
			instance = 15
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 16 } }
		th_log_ability = {
			instance = 16
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 17 } }
		th_log_ability = {
			instance = 17
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 18 } }
		th_log_ability = {
			instance = 18
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 19 } }
		th_log_ability = {
			instance = 19
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 20 } }
		th_log_ability = {
			instance = 20
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 21 } }
		th_log_ability = {
			instance = 21
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 22 } }
		th_log_ability = {
			instance = 22
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 23 } }
		th_log_ability = {
			instance = 23
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 24 } }
		th_log_ability = {
			instance = 24
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 25 } }
		th_log_ability = {
			instance = 25
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 26 } }
		th_log_ability = {
			instance = 26
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 27 } }
		th_log_ability = {
			instance = 27
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 28 } }
		th_log_ability = {
			instance = 28
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 29 } }
		th_log_ability = {
			instance = 29
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
	if = {
		limit = { th_get_danmaku_duel_instance = { instance = 30 } }
		th_log_ability = {
			instance = 30
			actor = $actor$
			verb = $verb$
			article = $article$
			ability = $ability$
			preposition = $preposition$
			recipient = $recipient$
			ability_effect = $ability_effect$
			number_impact = $number_impact$
			is_damage = $is_damage$
			is_health = $is_health$
			is_mana = $is_mana$
			is_action_points = $is_action_points$
			is_critical = $is_critical$
		}
	}
}

th_cleanup_for_current_action = {
	hidden_effect = {
		1 = {
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 0 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 1 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 1 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 1 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 2 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 2 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 2 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 3 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 3 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 3 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 4 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 4 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 4 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 5 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 5 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 5 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 6 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 6 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 6 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 7 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 7 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 7 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 8 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 8 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 8 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 9 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 9 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 9 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 10 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 10 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 10 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 11 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 11 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 11 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 12 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 12 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 12 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 13 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 13 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 13 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 14 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 14 }
			}
			if = {
				limit = { is_variable_equal = { which = th_danmaku_duel_logged_actions_for_instance_$instance$ value = 14 } }
				th_clear_log_specific_ability_actor_for_instance = { instance = $instance$ action = 15 }
				th_clear_log_specific_ability_recipient_for_instance = { instance = $instance$ action = 15 }
			}
		}
	}
}