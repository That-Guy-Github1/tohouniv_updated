th_has_danmaku_duels_unlocked = {
	custom_trigger_tooltip = {
		tooltip = th_has_danmaku_duels_unlocked_tt
		OR = {
			technology_group = tech_gensokyan_lunarian
			technology_group = tech_lunarian
			technology_group = tech_gensokyan
		}
	}
}

th_is_in_a_danmaku_duel = {
	custom_trigger_tooltip = {
		tooltip = th_is_in_a_danmaku_duel_tt
		has_ruler_flag = th_ruler_is_in_a_danmaku_duel
	}
	is_lesser_in_union = no
}

th_is_not_in_a_danmaku_duel = {
	custom_trigger_tooltip = {
		tooltip = th_is_not_in_a_danmaku_duel_tt
		NOT = { has_ruler_flag = th_ruler_is_in_a_danmaku_duel }
	}
}

th_is_duelling_an_unlanded_character = {
	custom_trigger_tooltip = {
		tooltip = th_is_duelling_an_unlanded_character_tt
		has_ruler_flag = th_is_duelling_an_unlanded_character
	}
}
th_is_not_duelling_an_unlanded_character = {
	custom_trigger_tooltip = {
		tooltip = th_is_not_duelling_an_unlanded_character_tt
		NOT = { has_ruler_flag = th_is_duelling_an_unlanded_character }
	}
}

th_is_duelling_character = {
	custom_trigger_tooltip = {
		tooltip = th_is_duelling_character_$target$_tt
		has_ruler_flag = th_is_duelling_character_$target$
	}
}

th_is_danmaku_duel_global_event_target = {
	has_saved_global_event_target = th_danmaku_duelist_of_id_$country_id$_of_instance_$instance$
	has_ruler_flag = th_is_in_danmaku_duel_instance_$instance$
	tag = event_target:th_danmaku_duelist_of_id_$country_id$_of_instance_$instance$
}

th_is_not_danmaku_duel_enemy_target = {
	has_saved_global_event_target = th_danmaku_duelist_of_id_$country_id$_of_instance_$instance$
	has_ruler_flag = th_is_in_danmaku_duel_instance_$instance$
	NOT = { tag = event_target:th_danmaku_duelist_of_id_$country_id$_of_instance_$instance$ }
}

th_has_turn_ownership = {
	custom_trigger_tooltip = {
		tooltip = th_has_turn_ownership_tt
		has_ruler_flag = th_danmaku_has_turn_ownership
	}
}

th_has_not_turn_ownership = {
	custom_trigger_tooltip = {
		tooltip = th_has_not_turn_ownership_tt
		NOT = { has_ruler_flag = th_danmaku_has_turn_ownership }
	}
}