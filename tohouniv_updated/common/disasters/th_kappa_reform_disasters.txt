th_kappa_counter_movement_disaster = {
	potential = {
		has_mission = KPP_enact_the_first_reform
		NOT = { mission_completed = KPP_enact_the_first_reform }
		has_reform = Gensokyan_kpp_kappa_state
		NOT = { has_country_flag = kpp_had_counter_movement_disaster }
	}
	
	can_start = {
		has_any_disaster = no
		custom_trigger_tooltip = {
			tooltip = kpp_triggered_kappa_counter_movement_disaster_tt
			has_country_flag = kpp_triggered_kappa_counter_movement_disaster
		}
		NOT = { has_country_modifier = th_elected_kappa_tinker }
	}
	
	can_stop = {
		has_any_disaster = yes
		NOT = { has_country_modifier = th_elected_kappa_tinker }
	}
	modifier = {
		stability_cost_modifier = 0.25
		republican_tradition = -4
		global_autonomy = 0.15
	}
		
	progress = {
		modifier = {
			factor = 5
			custom_trigger_tooltip = {
				tooltip = kpp_triggered_kappa_counter_movement_disaster_tt
				has_country_flag = kpp_triggered_kappa_counter_movement_disaster
			}
		}
	}	
	
	can_end = {
		OR = {
			republican_tradition = 90
			NOT = { government = republic }
		}
		stability = 2
	}
	
	on_start = th_kappa_disasters.1
	on_end = th_kappa_disasters.2
	
	on_monthly = {
		events = {
			th_kappa_disasters.8
			th_kappa_disasters.11
		}
		
		random_events = { 
			1000 = 0
			100 = th_kappa_disasters.3
			100 = th_kappa_disasters.4
			100 = th_kappa_disasters.5
			100 = th_kappa_disasters.6
			100 = th_kappa_disasters.7
			100 = th_kappa_disasters.9
			100 = th_kappa_disasters.10
		}
	}
}

th_kappa_guild_wars_disaster = {
	potential = {
		has_mission = KPP_enact_the_third_reform
		NOT = { mission_completed = KPP_enact_the_third_reform }
		mission_completed = KPP_enact_the_second_reform
		has_reform = Gensokyan_kpp_kappa_state
		NOT = { has_country_flag = kpp_had_guild_wars_disaster }
	}
	
	can_start = {
		has_any_disaster = no
		custom_trigger_tooltip = {
			tooltip = kpp_triggered_kappa_guild_wars_disaster_tt
			has_country_flag = kpp_triggered_kappa_guild_wars_disaster
		}
		NOT = { has_country_modifier = th_elected_kappa_tinker }
	}
	
	can_stop = {
		has_any_disaster = yes
		NOT = { has_country_modifier = th_elected_kappa_tinker }
	}
		
	progress = {
		modifier = {
			factor = 5
			custom_trigger_tooltip = {
				tooltip = kpp_triggered_kappa_guild_wars_disaster_tt
				has_country_flag = kpp_triggered_kappa_guild_wars_disaster
			}
		}
	}	
	
	can_end = {
		stability = 2
		OR = {
			NOT = { government = republic }
			republican_tradition = 90
		}
		NOT = { num_of_rebel_armies = 1 }
		NOT = { num_of_rebel_controlled_provinces = 1 }
		has_ruler = "Nitori"
		dynasty = "Kawashiro"
		custom_trigger_tooltip = {
			tooltip = kpp_had_the_capitalists_in_power_once
			has_country_flag = kpp_had_capitalists_in_power
		}
		custom_trigger_tooltip = {
			tooltip = kpp_had_explosion_enjoyers_in_power_once
			has_country_flag = kpp_had_explosions_enjoyers_in_power
		}
		custom_trigger_tooltip = {
			tooltip = kpp_had_independent_marines_in_power_once
			has_country_flag = kpp_had_independent_marines_in_power
		}
	}
	
	on_start = th_kappa_disasters.12
	on_end = th_kappa_disasters.13

	modifier = {
		global_unrest = 10
		stability_cost_modifier = 0.5
		republican_tradition = -1
	}
	
	on_monthly = {
		events = {
		}
		
		random_events = { 
			600 = 0
			100 = th_kappa_disasters.14
			100 = th_kappa_disasters.15
			100 = th_kappa_disasters.16
			100 = th_kappa_disasters.17
			100 = th_kappa_disasters.18
			100 = th_kappa_disasters.19
			100 = th_kappa_disasters.20
			100 = th_kappa_disasters.21
			100 = th_kappa_disasters.22
			100 = th_kappa_disasters.23
			100 = th_kappa_disasters.24
			100 = th_kappa_disasters.25
			100 = th_kappa_disasters.26
			100 = th_kappa_disasters.27
		}
	}
}