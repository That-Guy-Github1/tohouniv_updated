#CRD reads the mind of target -> Reveal all troops movement of target for 5 years
th_read_the_mind = {
	category = th_diplo_action
	require_acceptance = no

	is_visible = {
		has_government_attribute = enables_satori_mind_manipulation
	}

	is_allowed = {
		FROM = {
			is_subject_of = ROOT
		}
		custom_trigger_tooltip = {
			tooltip = th_from_is_not_immune_to_diplomatic_actions_tt
			FROM = {
				NOT = { has_country_flag = th_immunity_to_diplomatic_actions }
				NOT = { has_government_attribute = enables_yama_authority }
			}
		}
	}

	on_accept = {
	}

	ai_will_do = {
		always = no
	}
}

#CRD provokes the minds of target's subjecty -> Anti Great Power move, is less effective the more development you have
th_provokes_pops_minds = {
	category = th_diplo_action
	require_acceptance = no

	is_visible = {
		has_government_attribute = enables_satori_mind_manipulation
	}

	is_allowed = {
		FROM = {
			is_subject_of = ROOT
		}
		custom_trigger_tooltip = {
			tooltip = th_from_is_not_immune_to_diplomatic_actions_tt
			FROM = {
				NOT = { has_country_flag = th_immunity_to_diplomatic_actions }
				NOT = { has_government_attribute = enables_yama_authority }
			}
		}
	}

	on_accept = {
	}

	ai_will_do = {
		always = no
	}
}

#CRD suppresses free will -> usabale against subject, reduce their liberty desire for a short term at the cost of diplo power and the longterm lib desire
th_suppress_free_will = {
	category = th_diplo_action
	require_acceptance = no

	is_visible = {
		has_government_attribute = enables_satori_mind_manipulation
	}

	is_allowed = {
		FROM = {
			is_subject_of = ROOT
		}
		custom_trigger_tooltip = {
			tooltip = th_from_is_not_immune_to_diplomatic_actions_tt
			FROM = {
				NOT = { has_country_flag = th_immunity_to_diplomatic_actions }
				NOT = { has_government_attribute = enables_yama_authority }
			}
		}
	}

	on_accept = {
	}

	ai_will_do = {
		always = no
	}
}

#CRD awakens trauma of target -> give a debuff to the target
th_awaken_trauma = {
	category = th_diplo_action
	require_acceptance = no

	is_visible = {
		has_government_attribute = enables_satori_mind_manipulation
	}

	is_allowed = {
		has_spy_network_in = {
			who = FROM
			value = 50
		}
		custom_trigger_tooltip = {
			tooltip = th_from_is_not_immune_to_diplomatic_actions_tt
			FROM = {
				NOT = { has_country_flag = th_immunity_to_diplomatic_actions }
				NOT = { has_government_attribute = enables_yama_authority }
			}
		}
	}

	on_accept = {
		FROM = {
			add_country_modifier = {
				name = th_awoken_traumas
				duration = 1825
			}
		}
		add_spy_network_in = {
			who = FROM
			value = -50			
		}
	}

	ai_will_do = {
		always = no
	}
}

#CRD recollect memory -> copies a special diplomatic move or mechanic for a one time use of the target
th_recollect_memory = {
	category = th_diplo_action
	require_acceptance = no

	is_visible = {
		has_government_attribute = enables_satori_mind_manipulation
		th_target_is_interesting_to_copy_off = {
			target = FROM
		}
	}

	is_allowed = {
		has_spy_network_in = {
			who = FROM
			value = 50
		}
		custom_trigger_tooltip = {
			tooltip = th_from_is_not_immune_to_diplomatic_actions_tt
			FROM = {
				NOT = { has_country_flag = th_immunity_to_diplomatic_actions }
				NOT = { has_government_attribute = enables_yama_authority }
			}
		}
	}

	on_accept = {
		th_copy_ability_from_target = {
			target = FROM
			duration = 1825
		}
		add_spy_network_in = {
			who = FROM
			value = -50			
		}
	}

	ai_will_do = {
		always = no
	}
}

#CRD cause amnesia -> target loses all AE opinion of root
th_cause_amnesia = {
	category = th_diplo_action
	require_acceptance = no

	is_visible = {
		has_government_attribute = enables_satori_mind_manipulation
	}

	is_allowed = {
		has_spy_network_in = {
			who = FROM
			value = 50
		}
		FROM = {
			has_opinion_modifier = {
				who = ROOT
				modifier = aggressive_expansion
			}
		}
		custom_trigger_tooltip = {
			tooltip = th_from_is_not_immune_to_diplomatic_actions_tt
			FROM = {
				NOT = { has_country_flag = th_immunity_to_diplomatic_actions }
				NOT = { has_government_attribute = enables_yama_authority }
			}
		}
	}

	on_accept = {
		FROM = {
			remove_opinion = {
				who = ROOT
				modifier = aggressive_expansion
			}
		}
		add_spy_network_in = {
			who = FROM
			value = -50			
		}
	}

	ai_will_do = {
		always = no
	}
}