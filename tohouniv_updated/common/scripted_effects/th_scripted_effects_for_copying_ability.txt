th_clear_copy_flag = {
	clr_country_flag = th_copied_ability_of_SCR
	clr_country_flag = th_copied_ability_of_HKR
	clr_country_flag = th_copied_ability_of_FOM
	clr_country_flag = th_copied_ability_of_MHG
	clr_country_flag = th_copied_ability_of_CIN
	clr_country_flag = th_copied_ability_of_LRV
	clr_country_flag = th_copied_ability_of_TFR
	clr_country_flag = th_copied_ability_of_LIL
	clr_country_flag = th_copied_ability_of_CLP
	clr_country_flag = th_copied_ability_of_EIT
	clr_country_flag = th_copied_ability_of_FUJ
	clr_country_flag = th_copied_ability_of_NET
	clr_country_flag = th_copied_ability_of_SFF
	clr_country_flag = th_copied_ability_of_MRY
	clr_country_flag = th_copied_ability_of_CRD
	clr_country_flag = th_copied_ability_of_HIG
	clr_country_flag = th_copied_ability_of_MKI
	clr_country_flag = th_copied_ability_of_GNU
	clr_country_flag = th_copied_ability_of_FLR
	remove_country_modifier = th_copy_ability_from_NET
	remove_country_modifier = th_copy_ability_from_FUJ
	remove_country_modifier = th_copy_ability_from_SFF
	remove_country_modifier = th_copy_ability_from_HIG
	remove_country_modifier = th_copy_ability_from_MKI
	remove_country_modifier = th_copy_ability_from_GNU
	remove_country_modifier = th_copy_ability_from_FLR
	remove_country_modifier = th_copy_ability_default_fall_back
	clr_country_flag = th_copied_ability_flag
}

#The flag is @PREV so I don't have to type th_copied_ability_of_SCR, th_copied_ability_of_HKR, etc.
#Functionally, they work the same
th_copy_ability_from_target = {
	th_clear_copy_flag = yes
	add_country_modifier = {
		name = th_copied_ability
		duration = $duration$
		hidden = yes
	}
	$target$ = {
		trigger_switch = {
			on_trigger = tag
			SCR = { ROOT = { set_country_flag = th_copied_ability_of_@PREV } }
			HKR = { ROOT = { set_country_flag = th_copied_ability_of_@PREV set_variable = { which = th_youkai_hunt_charges value = 1 } } }
			FOM = { ROOT = { set_country_flag = th_copied_ability_of_@PREV } }
			MHG = { ROOT = { set_country_flag = th_copied_ability_of_@PREV } }
			CIN = { ROOT = { set_country_flag = th_copied_ability_of_@PREV } }
			LRV = { ROOT = { set_country_flag = th_copied_ability_of_@PREV } }
			TFR = { ROOT = { set_country_flag = th_copied_ability_of_@PREV } }
			LIL = { ROOT = { set_country_flag = th_copied_ability_of_@PREV } }
			CLP = { ROOT = { set_country_flag = th_copied_ability_of_@PREV } }
			EIT = { ROOT = { set_country_flag = th_copied_ability_of_@PREV set_variable = { which = th_eit_aggressor_counter value = 0 } } }
			FUJ = { ROOT = { set_country_flag = th_copied_ability_of_@PREV country_event = { id = th_diplo_events.39 } } }
			NET = { ROOT = { set_country_flag = th_copied_ability_of_@PREV country_event = { id = th_diplo_events.39 } } }
			SFF = { ROOT = { set_country_flag = th_copied_ability_of_@PREV country_event = { id = th_diplo_events.39 } } }
			MRY = { ROOT = { set_country_flag = th_copied_ability_of_@PREV } }
			CRD = { ROOT = { set_country_flag = th_copied_ability_of_@PREV } }
			HIG = { ROOT = { set_country_flag = th_copied_ability_of_@PREV country_event = { id = th_diplo_events.39 } } }
			MKI = { ROOT = { set_country_flag = th_copied_ability_of_@PREV country_event = { id = th_diplo_events.39 } } }
			GNU = { ROOT = { set_country_flag = th_copied_ability_of_@PREV country_event = { id = th_diplo_events.39 } } }
			FLR = { ROOT = { set_country_flag = th_copied_ability_of_@PREV country_event = { id = th_diplo_events.39 } } }
		}
		if = {
			limit = {
				NOT = { tag = SCR }
				NOT = { tag = HKR }
				NOT = { tag = FOM }
				NOT = { tag = MHG }
				NOT = { tag = CIN }
				NOT = { tag = LRV }
				NOT = { tag = TFR }
				NOT = { tag = LIL }
				NOT = { tag = CLP }
				NOT = { tag = EIT }
				NOT = { tag = FUJ }
				NOT = { tag = NET }
				NOT = { tag = SFF }
				NOT = { tag = MRY }
				NOT = { tag = CRD }
				NOT = { tag = HIG }
				NOT = { tag = MKI }
				NOT = { tag = GNU }
				NOT = { tag = FLR }
			}
			ROOT = {
				add_country_modifier = {
					name = th_copy_ability_default_fall_back
					duration = $duration$
				}
			}
		}
	}
}