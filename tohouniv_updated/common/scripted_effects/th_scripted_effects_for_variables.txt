###GENERAL STUFF WITH VARIABLES###

th_set_countrys_compare_variable_to_own_variable = {
	#This function counts your own variable, which is made for counting, down while increasing the counter variable of $who$
	while = {
		limit = {
			check_variable = {
				which = $root_counting_variable$
				value = 1
			}
		}
		$who$ = {
			change_variable = {
				which = $who_counting_variable$
				value = 1
			}
		}
		subtract_variable = {
			which = $root_counting_variable$
			value = 1
		}
	}
}

###EIT VARIABLE###

th_eit_set_aggressor_counter = {
	set_variable = {
		which = th_eit_aggressor_counter
		value = 0.0
	}
}

th_eit_increment_aggresssor_counter = {
	if = {
		limit = {
			th_eit_has_max_aggressors = no
		}
		change_variable = {
			which = th_eit_aggressor_counter
			value = 1.0
		}
	}
}

th_eit_decrement_aggressor_counter = {
	if = {
		limit = {
			th_eit_has_at_least_one_aggressor = yes
		}
		subtract_variable = {
			which = th_eit_aggressor_counter
			value = 1.0
		}
	}
}

###FUJ VARIABLE###

th_fuj_set_volcano_counter = {
	set_variable = {
		which = th_fuj_volcano_counter
		value = 0.0
	}
}

th_fuj_increment_volcano_counter = {
	custom_tooltip = th_fuj_increment_volcano_counter.tt
	hidden_effect = {
		change_variable = {
			which = th_fuj_volcano_counter
			value = 1.0
		}
	} 
}

th_fuj_decrement_volcano_counter = {
	if = {
		limit = {
			th_fuj_has_n_volcanos = {
				value = 1
			}
		}
		custom_tooltip = th_fuj_decrement_volcano_counter.tt
		hidden_effect = {
			subtract_variable = {
				which = th_fuj_volcano_counter
				value = 1.0
			}
		}
	}
}

###EDUCATION INCREASE EVENT FREQUENCY###
th_increase_education_frequency = {
	custom_tooltip = th_increase_education_frequency_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_country_flag = th_education_setup }
			}
			set_country_flag = th_education_setup
			set_variable = {
				which = th_education_accelerator_variable
				value = 0
			}
		}
		change_variable = {
			which = th_education_accelerator_variable
			value = $value$
		}
	}
}

###FAIRY MONARCH VARIABLE###

th_set_fairy_max_stats = {
	if = {	#CIN
		limit = {
			th_is_or_was_tag = {
				tag = CIN
			}
		}
		set_variable = {
			which = th_fairy_max_adm_stat
			value = 4
		}
		set_variable = {
			which = th_fairy_max_dip_stat
			value = 5
		}
		set_variable = {
			which = th_fairy_max_mil_stat
			value = 6
		}
	}
	else_if = {	#CLP
		limit = {
			th_is_or_was_tag = {
				tag = CLP
			}
		}
		set_variable = {
			which = th_fairy_max_adm_stat
			value = 5
		}
		set_variable = {
			which = th_fairy_max_dip_stat
			value = 6
		}
		set_variable = {
			which = th_fairy_max_mil_stat
			value = 6
		}
	}
	else_if = {	#LRV
		limit = {
			th_is_or_was_tag = {
				tag = LRV
			}
		}
		set_variable = {
			which = th_fairy_max_adm_stat
			value = 4
		}
		set_variable = {
			which = th_fairy_max_dip_stat
			value = 6
		}
		set_variable = {
			which = th_fairy_max_mil_stat
			value = 5
		}
	}
	else_if = {	#LIL
		limit = {
			th_is_or_was_tag = {
				tag = LIL
			}
		}
		set_variable = {
			which = th_fairy_max_adm_stat
			value = 5
		}
		set_variable = {
			which = th_fairy_max_dip_stat
			value = 6
		}
		set_variable = {
			which = th_fairy_max_mil_stat
			value = 4
		}
	}
	else_if = {	#TFR Sunny
		limit = {
			th_is_or_was_tag = {
				tag = TFR
			}
		}
		set_variable = {
			which = th_fairy_max_adm_stat
			value = 4
		}
		set_variable = {
			which = th_fairy_max_dip_stat
			value = 5
		}
		set_variable = {
			which = th_fairy_max_mil_stat
			value = 6
		}
	}
	else = {	#Other Fairy nations
		set_variable = {
			which = th_fairy_max_adm_stat
			value = 6
		}
		set_variable = {
			which = th_fairy_max_dip_stat
			value = 6
		}
		set_variable = {
			which = th_fairy_max_mil_stat
			value = 6
		}
	}
}

th_increase_fairy_adm_stat = {
	if = {
		limit = {
			NOT = {
				check_variable = {
					which = th_fairy_adm_stat
					which = th_fairy_max_adm_stat
				}
			}
		}
		change_adm = $adm$
		hidden_effect = {
			change_variable = {
				which = th_fairy_adm_stat
				value = $adm$
			}
			change_variable = {
				which = th_fairy_total_power
				value = $adm$
			}
		}
	}
	else = {
		add_adm_power = 75
	}
}

th_increase_fairy_dip_stat = {
	if = {
		limit = {
			NOT = {
				check_variable = {
					which = th_fairy_dip_stat
					which = th_fairy_max_dip_stat
				}
			}
		}
		change_dip = $dip$
		hidden_effect = {
			change_variable = {
				which = th_fairy_dip_stat
				value = $dip$
			}
			change_variable = {
				which = th_fairy_total_power
				value = $dip$
			}
		}
	}
	else = {
		add_dip_power = 75
	}
}

th_increase_fairy_mil_stat = {
	if = {
		limit = {
			NOT = {
				check_variable = {
					which = th_fairy_mil_stat
					which = th_fairy_max_mil_stat
				}
			}
		}
		change_mil = $mil$
		hidden_effect = {
			change_variable = {
				which = th_fairy_mil_stat
				value = $mil$
			}
			change_variable = {
				which = th_fairy_total_power
				value = $mil$
			}
		}
	}
	else = {
		add_mil_power = 75
	}
}

###FAIRY PIRATE VARIABLES###
th_pirate_initialize_variables = {
	set_variable = {
		which = th_pirate_fame_points
		value = 0
	}
}

th_pirate_increase_fame_by_10 = {
	custom_tooltip = th_pirate_increase_fame_by_10_tt
	if = {
		limit = {
			has_country_flag = th_initiated_pirate_influence_variable
		}
		hidden_effect = {
			change_variable = {
				which = th_pirate_fame_points
				value = 10
			}
		}
	}
	else = {
		hidden_effect = {
			set_country_flag = th_initiated_pirate_influence_variable
			set_variable = {
				which = th_pirate_fame_points
				value = 10
			}
		}
	}
}

th_pirate_add_prank_fame = {
	if = {
		limit = {
			has_country_flag = th_initiated_pirate_influence_variable
			NOT = {
				check_variable = {
					which = th_pirate_fame_points
					value = 100
				}
			}
		}
		change_variable = {
			which = th_pirate_fame_points
			value = 0.5
		}
	}
}

th_pirate_add_raid_fame = {
	if = {
		limit = {
			has_country_flag = th_initiated_pirate_influence_variable
			NOT = {
				check_variable = {
					which = th_pirate_fame_points
					value = 100
				}
			}
		}
		change_variable = {
			which = th_pirate_fame_points
			value = 0.25
		}
	}
}

th_pirate_add_conquer_fame = {
	if = {
		limit = {
			has_country_flag = th_initiated_pirate_influence_variable
			NOT = {
				check_variable = {
					which = th_pirate_fame_points
					value = 100
				}
			}
		}
		change_variable = {
			which = th_pirate_fame_points
			value = 0.25
		}
	}
}

###SFF VARIABLES###

th_sff_initiate_flower_counter = {
	set_variable = {
		which = sff_flower_counter
		value = 0
	}
}

th_sff_initiate_sun_garden_counter = {
	set_variable = {
		which = sff_sun_garden_counter
		value = 1
	}
}

th_sff_increment_flower_counter = {
	change_variable = {
		which = sff_flower_counter
		value = 1
	}
}

th_sff_increment_sun_garden_counter = {
	custom_tooltip = th_sff_increment_sun_garden_counter_tt
	hidden_effect = {
		change_variable = {
			which = sff_sun_garden_counter
			value = 1
		}
	}
}
