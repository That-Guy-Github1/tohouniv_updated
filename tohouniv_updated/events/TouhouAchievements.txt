namespace = th_achievements

#CIN Achievement - Colden Wind
country_event = {
    id = th_achievements.1
    title = th_achievements.1.t
    desc = th_achievements.1.desc
    picture = CIORNOCIVANNA_eventPicture
    trigger = {
        has_global_flag = th_achievements_enabled
        th_is_or_was_tag = {
            tag = CIN
        }
        NOT = { has_country_flag = th_achievement_cin_colden_wind }
        owns_core_province = 112
        owns_core_province = 118
        owns_core_province = 121
    }
    mean_time_to_happen = { 
        days = 1
    }

    immediate = {
        hidden_effect = {
            set_country_flag = th_achievement_cin_colden_wind
        }
    }

    option = {  #kono Ciorno Ciovanna niwa yume ga aru
        name = th_achievements.1.a
        add_country_modifier = {
            name = th_achievement_colden_wind
            duration = -1
        }

        ai_chance = {
            factor = 100
        }
    }
}

#FLR Achievement - 
country_event = {
    id = th_achievements.2
    title = th_achievements.2.t
    desc = th_achievements.2.desc
    picture = CIRNO_eventPicture
    trigger = {
        has_global_flag = th_achievements_enabled
        th_is_or_was_tag = {
            tag = FLR
        }
        NOT = { has_country_flag = th_achievement_cin_colden_wind }
        owns_core_province = 118
    }
    mean_time_to_happen = { 
        days = 1
    }

    immediate = {
        hidden_effect = {
            set_country_flag = th_achievement_cin_colden_wind
        }
    }

    option = {
        name = th_achievements.2.a
        add_country_modifier = {
            name = th_achievement_colden_wind
            duration = -1
        }

        ai_chance = {
            factor = 100
        }
    }
}

#OKR Achievement - Dancing Samurai
country_event = {
    id = th_achievements.3
    title = th_achievements.3.t
    desc = th_achievements.3.desc
    picture = CIRNO_eventPicture
    trigger = {
        has_global_flag = th_achievements_enabled
        th_is_or_was_tag = {
            tag = OKR
        }
        NOT = { has_country_flag = th_achievement_okr_dancing_samurai }
        owns_core_province = 4976
        owns_core_province = 4975
        owns_core_province = 4822
        army_tradition = 80
    }
    mean_time_to_happen = { 
        days = 1
    }

    immediate = {
        hidden_effect = {
            set_country_flag = th_achievement_okr_dancing_samurai
        }
    }

    option = {
        name = th_achievements.3.a
        add_country_modifier = {
            name = th_achievement_dancing_samurai
            duration = -1
        }

        ai_chance = {
            factor = 100
        }
    }
}

#CLP Achievement - Insanity
country_event = {
    id = th_achievements.4
    title = th_achievements.4.t
    desc = th_achievements.4.desc
    picture = CIRNO_eventPicture
    trigger = {
        has_global_flag = th_achievements_enabled
        th_is_or_was_tag = {
            tag = CLP
        }
        NOT = { has_country_flag = th_achievement_clp_insanity }
        calc_true_if = {
            all_country = {
                custom_trigger_tooltip = {
                    tooltip = th_achievements_insanity_trigger
                    has_opinion_modifier = {
                        who = ROOT
                        modifier = aggressive_expansion
                    }
                    NOT = {
                        has_opinion = {
                            who = ROOT
                            value = 100
                        }
                    }
                    war_with = ROOT
                    NOT = { war_score = -30 }
                }
            }
            amount = 5
        }
    }
    mean_time_to_happen = { 
        days = 1
    }

    immediate = {
        hidden_effect = {
            set_country_flag = th_achievement_clp_insanity
        }
    }

    option = {
        name = th_achievements.4.a
        add_country_modifier = {
            name = th_achievement_insanity
            duration = -1
        }

        ai_chance = {
            factor = 100
        }
    }
}

#TFR Achievement - Star Platina (as TFR, have Star Sapphire as your ruler while having 300 Danmaku Power and defeat an enemy in a Danmaku Duel)
country_event = {
    id = th_achievements.5
    title = th_achievements.5.t
    desc = th_achievements.5.desc
    picture = STARPLATINA_eventPicture
    trigger = {
        has_global_flag = th_achievements_enabled
        th_is_or_was_tag = {
            tag = TFR
        }
        variable_arithmetic_trigger = {
            export_to_variable = {
                variable_name = th_danmaku_power
                value = modifier:danmaku_power_constant
                who = ROOT
            }
            check_variable = {
                which = th_danmaku_power
                value = 3
            }
        }
    }
    mean_time_to_happen = { 
        days = 1
    }

    immediate = {
        hidden_effect = {
            set_country_flag = th_achievement_tfr_star_platina
        }
    }

    option = {  #kono Ciorno Ciovanna niwa yume ga aru
        name = th_achievements.5.a
        add_country_modifier = {
            name = th_achievement_colden_wind
            duration = -1
        }

        ai_chance = {
            factor = 100
        }
    }
}

#FOM Achievement - One night in the Scarlet Devil Mansion

#MHG Achievement - Thinking with Portals

#HKR Achievement - Did somebody call the Exterminator?

#NET Achievement - Finally. Some good freaking food (have 100 cuisines)

#MYO Achievement - We are the Buddhists. Resistance is futile

#HIG Achievement - Take it easy. (Complete HIG's mission tree without giving a single lecture)

#FUJ Achievement - Merely a setback (let Mokou die at least 15 times)

#SCR Achievement - Don't worry, my bullets heal for negative damage

#MRY Achievement - Get in the robbot, Sanae

#General Achievement - Twice the Pride, Double the Fall (Win a danmaku duel against a ruler with 6 mil while your ruler has maximal 3)