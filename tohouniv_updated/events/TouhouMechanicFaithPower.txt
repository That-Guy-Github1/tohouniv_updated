##########################################
# Events for Faith Power Mechanic
#########################################

namespace = th_faith_power_mechanic

#Explanation of the mechanic
country_event = {
	id = th_faith_power_mechanic.1
	title = th_faith_power_mechanic.1.t
	desc = th_faith_power_mechanic.1.desc
	picture = SANAEBOSS_eventPicture

	is_triggered_only = yes

	option = {	#Open Faith Power actions
		name = th_faith_power_mechanic.1.a
		country_event = {
			id = th_faith_power_mechanic.2
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = th_faith_power_mechanic.1.b

		ai_chance = {
			factor = 1
		}
	}
}

#Table of actions possible for Faith Power
country_event = {
	id = th_faith_power_mechanic.2
	title = th_faith_power_mechanic.2.t
	desc = th_faith_power_mechanic.2.desc
	picture = SANAEBOSS_eventPicture

	is_triggered_only = yes

	option = {
		name = th_faith_power_mechanic.2.a
		trigger = {
			check_variable = {
				which = faith_power
				value = 100
			}
			NOT = { stability = 3 }
		}
		highlight = yes
		add_stability = 1
		subtract_variable = {
			which = faith_power
			value = 100
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = th_faith_power_mechanic.2.b
		trigger = {
			check_variable = {
				which = faith_power
				value = 50
			}
			NOT = { has_country_modifier = th_faith_power_blessed_weapons }
		}
		highlight = yes
		add_country_modifier = {
			name = th_faith_power_blessed_weapons
			duration = 7300
		}
		subtract_variable = {
			which = faith_power
			value = 50
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = th_faith_power_mechanic.2.c
		trigger = {
			check_variable = {
				which = faith_power
				value = 50
			}
			NOT = { has_country_modifier = th_faith_power_kanako_teachings }
		}
		highlight = yes
		add_country_modifier = {
			name = th_faith_power_kanako_teachings
			duration = 7300
		}
		subtract_variable = {
			which = faith_power
			value = 50
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = th_faith_power_mechanic.2.d
		trigger = {
			check_variable = {
				which = faith_power
				value = 50
			}
			NOT = { mercantilism = 100 }
		}
		highlight = yes
		add_mercantilism = 1
		subtract_variable = {
			which = faith_power
			value = 50
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = th_faith_power_mechanic.2.e
		trigger = {
			check_variable = {
				which = faith_power
				value = 100
			}
			NOT = { has_advisor = th_advisor_kanako }
			NOT = { has_advisor = th_advisor_suwako }
			custom_trigger_tooltip = {
				tooltip = mry_not_hired_divine_advisor_tt
				NOT = {
					has_country_modifier = th_faith_power_hired_divine_advisor
				}
			}
			hidden_trigger = {
				has_country_flag = mry_can_purchase_deity_advisor
			}
		}
		highlight = yes
		define_advisor = {
			type = th_advisor_kanako
			skill = 3
			discount = yes
			female = yes
			culture = Youkai
		}
		add_country_modifier = {
			name = th_faith_power_hired_divine_advisor
			duration = 10950
		}
		subtract_variable = {
			which = faith_power
			value = 100
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = th_faith_power_mechanic.2.f
		trigger = {
			check_variable = {
				which = faith_power
				value = 100
			}
			NOT = { has_advisor = th_advisor_kanako }
			NOT = { has_advisor = th_advisor_suwako }
			custom_trigger_tooltip = {
				tooltip = mry_not_hired_divine_advisor_tt
				NOT = {
					has_country_modifier = th_faith_power_hired_divine_advisor
				}
			}
			hidden_trigger = {
				has_country_flag = mry_can_purchase_deity_advisor
			}
		}
		highlight = yes
		define_advisor = {
			type = th_advisor_suwako
			skill = 3
			discount = yes
			female = yes
			culture = Youkai
		}
		add_country_modifier = {
			name = th_faith_power_hired_divine_advisor
			duration = 10950
		}
		subtract_variable = {
			which = faith_power
			value = 100
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = th_faith_power_mechanic.2.zzz

		ai_chance = {
			factor = 1
		}
	}
}